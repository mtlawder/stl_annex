<html lang="en">
  <head>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-142498774-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-142498774-1');
	</script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap-theme.min.css">
	<script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
	<link rel="stylesheet" type="text/css" href="/static/styles/stlannex_style.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap-theme.min.css">
    <link rel="stylesheet" type="text/css" href="/static/styles/stl_pop_style.css">
    <title>STL Annex</title>
    
    <link rel="stylesheet" href="https://cdn.pydata.org/bokeh/release/bokeh-1.2.0.min.css" type="text/css" />
    <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-1.2.0.min.js"></script>
    <script type="text/javascript">
        Bokeh.set_log_level("info");
    </script>
    <style>
    .col-xl-4{
      padding:0px !important;
    }
    .col-lg-6{
      padding:0px !important;
    }
    .col-lg-12{
      padding:0px !important;
    }
    .btn-group{
      padding:5px !important;
    }
    .container{
      padding:0px !important;
      max-width:1440px;
    }
    .cardCOVID{
      border:1pt solid black;
      border-radius: 10px;
      background-color:#220091;
      padding:8px;
      color:#e6e6e6;
      min-height:70px;
    }
    .whiteRow{
      background-color:white;
    }
  </style>
  </head>
  <body>
    <center>
      <div id="header-vue">
        <header-bar></header-bar>
      </div>
      <div id="menu-vue">
        <menu-bar></menu-bar>
      </div>
         
      <br>
      <div id="covid">
        <div class="container">
          <div class="row">
            <div class="col-lg-3 col-md-12">
              <h2>COVID-19 USA Stats</h2>
            </div>
            <div class="col-lg-3 col-md-4">
              <div class="cardCOVID">
                <h5>Showing data through</h5>
                {{today_vals['data'][0][5]}}
              </div>
            </div>
            <div class="col-lg-3 col-md-4">
              <div class="cardCOVID">
                <h5>Total Cases</h5>
                {{formatNum(today_vals['data'][0][1])}}
              </div>
            </div>
            <div class="col-lg-3 col-md-4">
              <div class="cardCOVID">
                <h5>New Cases</h5>
                {{formatNum(today_vals['data'][0][3])}} ({{formatPct(today_vals['data'][0][4])}})
              </div>
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-12">
              <h4> National Cases and Deaths</h4>
              <p>While the number of Cases has continued to grow rapidly across the county, the growth has been flattening (as seen in the log scale chart) and does not appear to be growing exponentially anymore based on the number of cases. (April 4, 2020)
              </p>
            </div>
          </div>
          <div class="row" class="whiteRow">
            <div class="col-md-6 col-sm-12" style="padding-left:12px;">
              <<%national_div|safe%>>
            </div>
            <div class="col-md-6 col-sm-12">
              <<%national_log_div|safe%>>
            </div>
          </div>
        </div>
        <hr>
        <div class="container">
          <div class="row">
            <div class="col-12">
              <h4>Cases by State</h4>
              <p>Individual State growth rates have varied quite a bit, but all appear to be showing slowed growth turning away from exponential growth. While cases will continue to grow in every state, measures appear to be slowing that growth. (April 4, 2020)
            </div> 
          </div>
          <div class="row" class="whiteRow">
            <div class="col-lg-6 col-md-12">
             
              <<%cases_div|safe%>>
            </div>   
            <div class="col-lg-6 col-md-12">
             
              <<%cases_log_div|safe%>>
            </div>
          </div>
        </div>
        <hr>
        <p>
          <a href="github.com/nytimes/covid-19-data">Based on Data provided by The New York Times</a>
        </p>
        <p>Other Blogs on COVID-19</p>
        <p><a href="/blog_coronavirus_march">A Look at State Coronavirus Case Numbers</a></p>
        <hr>
      </div>
      <<%national_log_script|safe%>>
    <<%national_script|safe%>>
    <<%cases_script|safe%>>
    <<%cases_log_script|safe%>>
    <script>   
      new Vue ({
        el: '#covid',
        data: {
          dests: 'x',
          today_vals: <<%today_vals|safe%>>
          
        },
        methods:{
          formatPct: function(val) {
            if (val!=null) {
              return ((val*100).toFixed(1)).toString()+'%';
            }
            else {
              return "NA"
            }
          },
          formatNum: function(val) {
            if (val!=null) {
              return val.toLocaleString()
            }
            else {
              return "NA"
            }
          }
        }
      })
      </script>
        
    
    </center>


  	<script src="static/components/menu.vue">
    </script>
    <script src="static/components/header.vue">
    </script>


  </body>
</html>